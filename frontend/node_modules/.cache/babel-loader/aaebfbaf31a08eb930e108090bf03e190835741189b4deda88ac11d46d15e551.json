{"ast":null,"code":"var _jsxFileName = \"/workspaces/Fashion_shop/frontend/src/Components/UpdateProduct.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UpdateProduct() {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [updates, setUpdates] = useState({\n    productCategory: \"\",\n    productName: \"\",\n    unitsSold: \"\",\n    returns: \"\",\n    revenue: \"\",\n    customerRating: \"\",\n    stockLevel: \"\",\n    season: \"\",\n    trendScore: \"\"\n  });\n  const [status, setStatus] = useState(null);\n  const onChange = e => setUpdates(u => ({\n    ...u,\n    [e.target.name]: e.target.value\n  }));\n  const onSubmit = async e => {\n    e.preventDefault();\n    setStatus(null);\n    if (!name.trim()) {\n      setStatus({\n        type: \"error\",\n        message: \"Enter Product Name to update.\"\n      });\n      return;\n    }\n\n    // build body with only provided fields, converting numbers\n    const body = {};\n    for (const [k, v] of Object.entries(updates)) {\n      if (v !== \"\") {\n        body[k] = [\"unitsSold\", \"returns\", \"revenue\", \"customerRating\", \"stockLevel\", \"trendScore\"].includes(k) ? Number(v) : v.trim();\n      }\n    }\n    if (Object.keys(body).length === 0) {\n      setStatus({\n        type: \"error\",\n        message: \"Provide at least one field to update.\"\n      });\n      return;\n    }\n    try {\n      var _res$data;\n      const res = await api.post(`/update-product/${encodeURIComponent(name.trim())}`, body);\n      setStatus({\n        type: \"success\",\n        message: ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message) || \"Updated successfully.\"\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setStatus({\n        type: \"error\",\n        message: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message\n      });\n    }\n  };\n  const fields = [{\n    label: \"Product Category\",\n    name: \"productCategory\"\n  }, {\n    label: \"New Product Name\",\n    name: \"productName\"\n  }, {\n    label: \"Units Sold\",\n    name: \"unitsSold\",\n    type: \"number\"\n  }, {\n    label: \"Returns\",\n    name: \"returns\",\n    type: \"number\"\n  }, {\n    label: \"Revenue\",\n    name: \"revenue\",\n    type: \"number\",\n    step: \"0.01\"\n  }, {\n    label: \"Customer Rating\",\n    name: \"customerRating\",\n    type: \"number\",\n    step: \"0.1\"\n  }, {\n    label: \"Stock Level\",\n    name: \"stockLevel\",\n    type: \"number\"\n  }, {\n    label: \"Season\",\n    name: \"season\"\n  }, {\n    label: \"Trend Score\",\n    name: \"trendScore\",\n    type: \"number\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Update Product by Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      className: \"form-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          gridColumn: \"1 / -1\"\n        },\n        children: [\"Current Product Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), fields.map(f => /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [f.label, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: f.type || \"text\",\n          name: f.name,\n          value: updates[f.name],\n          onChange: onChange,\n          step: f.step || \"any\",\n          placeholder: \"(leave blank to skip)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)]\n      }, f.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), status && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: status.type === \"error\" ? \"error\" : \"success\",\n      children: status.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(UpdateProduct, \"pIHmKZtDIXxSo2K/U8bSYFo066Y=\");\n_c = UpdateProduct;\nvar _c;\n$RefreshReg$(_c, \"UpdateProduct\");","map":{"version":3,"names":["useState","api","jsxDEV","_jsxDEV","UpdateProduct","_s","name","setName","updates","setUpdates","productCategory","productName","unitsSold","returns","revenue","customerRating","stockLevel","season","trendScore","status","setStatus","onChange","e","u","target","value","onSubmit","preventDefault","trim","type","message","body","k","v","Object","entries","includes","Number","keys","length","_res$data","res","post","encodeURIComponent","data","err","_err$response","_err$response$data","response","error","fields","label","step","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","gridColumn","required","map","f","placeholder","_c","$RefreshReg$"],"sources":["/workspaces/Fashion_shop/frontend/src/Components/UpdateProduct.jsx"],"sourcesContent":["\nimport { useState } from \"react\";\nimport api from \"../api\";\n\nexport default function UpdateProduct() {\n  const [name, setName] = useState(\"\");\n  const [updates, setUpdates] = useState({\n    productCategory: \"\",\n    productName: \"\",\n    unitsSold: \"\",\n    returns: \"\",\n    revenue: \"\",\n    customerRating: \"\",\n    stockLevel: \"\",\n    season: \"\",\n    trendScore: \"\",\n  });\n  const [status, setStatus] = useState(null);\n\n  const onChange = (e) => setUpdates((u) => ({ ...u, [e.target.name]: e.target.value }));\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setStatus(null);\n\n    if (!name.trim()) {\n      setStatus({ type: \"error\", message: \"Enter Product Name to update.\" });\n      return;\n    }\n\n    // build body with only provided fields, converting numbers\n    const body = {};\n    for (const [k, v] of Object.entries(updates)) {\n      if (v !== \"\") {\n        body[k] = [\"unitsSold\", \"returns\", \"revenue\", \"customerRating\", \"stockLevel\", \"trendScore\"].includes(k)\n          ? Number(v)\n          : v.trim();\n      }\n    }\n    if (Object.keys(body).length === 0) {\n      setStatus({ type: \"error\", message: \"Provide at least one field to update.\" });\n      return;\n    }\n\n    try {\n      const res = await api.post(`/update-product/${encodeURIComponent(name.trim())}`, body);\n      setStatus({ type: \"success\", message: res.data?.message || \"Updated successfully.\" });\n    } catch (err) {\n      setStatus({ type: \"error\", message: err.response?.data?.error || err.message });\n    }\n  };\n\n  const fields = [\n    { label: \"Product Category\", name: \"productCategory\" },\n    { label: \"New Product Name\", name: \"productName\" },\n    { label: \"Units Sold\", name: \"unitsSold\", type: \"number\" },\n    { label: \"Returns\", name: \"returns\", type: \"number\" },\n    { label: \"Revenue\", name: \"revenue\", type: \"number\", step: \"0.01\" },\n    { label: \"Customer Rating\", name: \"customerRating\", type: \"number\", step: \"0.1\" },\n    { label: \"Stock Level\", name: \"stockLevel\", type: \"number\" },\n    { label: \"Season\", name: \"season\" },\n    { label: \"Trend Score\", name: \"trendScore\", type: \"number\" },\n  ];\n\n  return (\n    <div className=\"card\">\n      <h2>Update Product by Name</h2>\n      <form onSubmit={onSubmit} className=\"form-grid\">\n        <label style={{ gridColumn: \"1 / -1\" }}>\n          Current Product Name\n          <input value={name} onChange={(e) => setName(e.target.value)} required />\n        </label>\n\n        {fields.map((f) => (\n          <label key={f.name}>\n            {f.label}\n            <input\n              type={f.type || \"text\"}\n              name={f.name}\n              value={updates[f.name]}\n              onChange={onChange}\n              step={f.step || \"any\"}\n              placeholder=\"(leave blank to skip)\"\n            />\n          </label>\n        ))}\n        <button type=\"submit\">Update</button>\n      </form>\n      {status && <p className={status.type === \"error\" ? \"error\" : \"success\"}>{status.message}</p>}\n    </div>\n  );\n}\n"],"mappings":";;AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,GAAG,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,eAAe,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC;IACrCU,eAAe,EAAE,EAAE;IACnBC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE,EAAE;IACXC,cAAc,EAAE,EAAE;IAClBC,UAAU,EAAE,EAAE;IACdC,MAAM,EAAE,EAAE;IACVC,UAAU,EAAE;EACd,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMqB,QAAQ,GAAIC,CAAC,IAAKb,UAAU,CAAEc,CAAC,KAAM;IAAE,GAAGA,CAAC;IAAE,CAACD,CAAC,CAACE,MAAM,CAAClB,IAAI,GAAGgB,CAAC,CAACE,MAAM,CAACC;EAAM,CAAC,CAAC,CAAC;EAEtF,MAAMC,QAAQ,GAAG,MAAOJ,CAAC,IAAK;IAC5BA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBP,SAAS,CAAC,IAAI,CAAC;IAEf,IAAI,CAACd,IAAI,CAACsB,IAAI,CAAC,CAAC,EAAE;MAChBR,SAAS,CAAC;QAAES,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAE;MAAgC,CAAC,CAAC;MACtE;IACF;;IAEA;IACA,MAAMC,IAAI,GAAG,CAAC,CAAC;IACf,KAAK,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC,IAAIC,MAAM,CAACC,OAAO,CAAC3B,OAAO,CAAC,EAAE;MAC5C,IAAIyB,CAAC,KAAK,EAAE,EAAE;QACZF,IAAI,CAACC,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,EAAE,SAAS,EAAE,gBAAgB,EAAE,YAAY,EAAE,YAAY,CAAC,CAACI,QAAQ,CAACJ,CAAC,CAAC,GACnGK,MAAM,CAACJ,CAAC,CAAC,GACTA,CAAC,CAACL,IAAI,CAAC,CAAC;MACd;IACF;IACA,IAAIM,MAAM,CAACI,IAAI,CAACP,IAAI,CAAC,CAACQ,MAAM,KAAK,CAAC,EAAE;MAClCnB,SAAS,CAAC;QAAES,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAE;MAAwC,CAAC,CAAC;MAC9E;IACF;IAEA,IAAI;MAAA,IAAAU,SAAA;MACF,MAAMC,GAAG,GAAG,MAAMxC,GAAG,CAACyC,IAAI,CAAC,mBAAmBC,kBAAkB,CAACrC,IAAI,CAACsB,IAAI,CAAC,CAAC,CAAC,EAAE,EAAEG,IAAI,CAAC;MACtFX,SAAS,CAAC;QAAES,IAAI,EAAE,SAAS;QAAEC,OAAO,EAAE,EAAAU,SAAA,GAAAC,GAAG,CAACG,IAAI,cAAAJ,SAAA,uBAARA,SAAA,CAAUV,OAAO,KAAI;MAAwB,CAAC,CAAC;IACvF,CAAC,CAAC,OAAOe,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZ3B,SAAS,CAAC;QAAES,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAE,EAAAgB,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcF,IAAI,cAAAG,kBAAA,uBAAlBA,kBAAA,CAAoBE,KAAK,KAAIJ,GAAG,CAACf;MAAQ,CAAC,CAAC;IACjF;EACF,CAAC;EAED,MAAMoB,MAAM,GAAG,CACb;IAAEC,KAAK,EAAE,kBAAkB;IAAE7C,IAAI,EAAE;EAAkB,CAAC,EACtD;IAAE6C,KAAK,EAAE,kBAAkB;IAAE7C,IAAI,EAAE;EAAc,CAAC,EAClD;IAAE6C,KAAK,EAAE,YAAY;IAAE7C,IAAI,EAAE,WAAW;IAAEuB,IAAI,EAAE;EAAS,CAAC,EAC1D;IAAEsB,KAAK,EAAE,SAAS;IAAE7C,IAAI,EAAE,SAAS;IAAEuB,IAAI,EAAE;EAAS,CAAC,EACrD;IAAEsB,KAAK,EAAE,SAAS;IAAE7C,IAAI,EAAE,SAAS;IAAEuB,IAAI,EAAE,QAAQ;IAAEuB,IAAI,EAAE;EAAO,CAAC,EACnE;IAAED,KAAK,EAAE,iBAAiB;IAAE7C,IAAI,EAAE,gBAAgB;IAAEuB,IAAI,EAAE,QAAQ;IAAEuB,IAAI,EAAE;EAAM,CAAC,EACjF;IAAED,KAAK,EAAE,aAAa;IAAE7C,IAAI,EAAE,YAAY;IAAEuB,IAAI,EAAE;EAAS,CAAC,EAC5D;IAAEsB,KAAK,EAAE,QAAQ;IAAE7C,IAAI,EAAE;EAAS,CAAC,EACnC;IAAE6C,KAAK,EAAE,aAAa;IAAE7C,IAAI,EAAE,YAAY;IAAEuB,IAAI,EAAE;EAAS,CAAC,CAC7D;EAED,oBACE1B,OAAA;IAAKkD,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnBnD,OAAA;MAAAmD,QAAA,EAAI;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC/BvD,OAAA;MAAMuB,QAAQ,EAAEA,QAAS;MAAC2B,SAAS,EAAC,WAAW;MAAAC,QAAA,gBAC7CnD,OAAA;QAAOwD,KAAK,EAAE;UAAEC,UAAU,EAAE;QAAS,CAAE;QAAAN,QAAA,GAAC,sBAEtC,eAAAnD,OAAA;UAAOsB,KAAK,EAAEnB,IAAK;UAACe,QAAQ,EAAGC,CAAC,IAAKf,OAAO,CAACe,CAAC,CAACE,MAAM,CAACC,KAAK,CAAE;UAACoC,QAAQ;QAAA;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC,EAEPR,MAAM,CAACY,GAAG,CAAEC,CAAC,iBACZ5D,OAAA;QAAAmD,QAAA,GACGS,CAAC,CAACZ,KAAK,eACRhD,OAAA;UACE0B,IAAI,EAAEkC,CAAC,CAAClC,IAAI,IAAI,MAAO;UACvBvB,IAAI,EAAEyD,CAAC,CAACzD,IAAK;UACbmB,KAAK,EAAEjB,OAAO,CAACuD,CAAC,CAACzD,IAAI,CAAE;UACvBe,QAAQ,EAAEA,QAAS;UACnB+B,IAAI,EAAEW,CAAC,CAACX,IAAI,IAAI,KAAM;UACtBY,WAAW,EAAC;QAAuB;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC;MAAA,GATQK,CAAC,CAACzD,IAAI;QAAAiD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUX,CACR,CAAC,eACFvD,OAAA;QAAQ0B,IAAI,EAAC,QAAQ;QAAAyB,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CAAC,EACNvC,MAAM,iBAAIhB,OAAA;MAAGkD,SAAS,EAAElC,MAAM,CAACU,IAAI,KAAK,OAAO,GAAG,OAAO,GAAG,SAAU;MAAAyB,QAAA,EAAEnC,MAAM,CAACW;IAAO;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzF,CAAC;AAEV;AAACrD,EAAA,CAvFuBD,aAAa;AAAA6D,EAAA,GAAb7D,aAAa;AAAA,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}